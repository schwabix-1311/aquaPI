<!doctype html>
{% extends 'layouts/default.html.jinja2' %}

{% block content_header %}
    {% set page_heading = 'Dashboard' %}
    {% include 'partials/page_heading.html.jinja2' %}
{% endblock %}

{% block html_head_script %}
    {{ super() }}
{% endblock %}

{% block content_main %}
    <div id="vm">
        <!-- this is filled with Vue content using below teplate -->
    </div>

    <template id="vueHome">
        <div class="uk-child-width-1-2@s uk-grid-small" uk-grid>
            {% for node in update %}
                {% if 'Controller' in ('%s' % node.__class__.__bases__) %}
                    <!-- component is='DebugNode' id='{{ node.id }}' ></component><br/ -->
                    <component is='CtrlNode' id='{{ node.id }}' ></component><br/>
                {% else %}
                    <component is='BusNode' id='{{ node.id }}' ></component><br/>
                {% endif %}
            {% endfor %}
        </div>
    </template>

    <script src="https://unpkg.com/vue@2.7/dist/vue.js"></script>
    <!-- script src="https://unpkg.com/vue@2.7/dist/vue.min.js"></script -->

    <script src="{{ url_for('static', filename='v-comps.js') }}"></script>
    <script src="{{ url_for('static', filename='home.js') }}"></script>

    <div class="uk-padding-small uk-margin-top uk-background-secondary uk-light">
        <div>
            {{ now }}
        </div>
    </div>

{% endblock %}

{% block footer_script %}
    {{ super() }}
    {# static/home.js has it's own:  % include "sse_event_inc.html" % #}
{% endblock %}
