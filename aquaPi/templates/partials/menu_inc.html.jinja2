<!doctype html>
{# this is a include file for the main and 'offcanvas' (mobile) navigation #}

{# TODO: implement method in ... and set as view var #}
{% set navItems = [
    {'route': '/', 'label': 'Home', 'icon': 'home', 'hideInMainNav': true},
    {'route': '/settings', 'label': 'Settings', 'icon': 'settings', 'hideInMainNav': false},
    {'route': '/config', 'label': 'Configuration', 'icon': 'cog', 'hideInMainNav': false},
    {'route': '/about', 'label': 'About', 'icon': 'info', 'hideInMainNav': false}
] %}

<div uk-sticky="sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky" class="uk-section-primary uk-preserve-color uk-box-shadow-medium">
    <div class="uk-container uk-container-medium">
        <nav class="uk-navbar-container uk-navbar-transparent uk-light" uk-navbar>
            <div class="uk-navbar-left">
                <ul class="uk-navbar-nav">
                    <li class="{% if '/' == request.path %}uk-active{% endif %}">
                        <a class="uk-navbar-item uk-logo" href="/"># TODO: logo #</a>
                    </li>
                    {%- for item in navItems -%}
                        {%- if item.hideInMainNav != true %}
                            <li class="{% if item.route == request.path %}uk-active{% endif %} uk-visible@m">
                                <a href="{{ item.route }}">
                                    {%- if item.icon -%}
                                        <span uk-icon="icon: {{ item.icon }}"></span>
                                    {%- endif -%}
                                    {{- item.label -}}
                                </a>
                            </li>
                        {%- endif -%}
                    {%- endfor %}
                </ul>
            </div>
            {#
            <div class="uk-navbar-center"></div>
            #}
            <div class="uk-navbar-right uk-hidden@m">
                <a class="uk-navbar-toggle uk-navbar-toggle-animate" uk-toggle="target: #offcanvas-menu" uk-navbar-toggle-icon href="#"></a>
            </div>
        </nav>
    </div>
</div>

<div id="offcanvas-menu" uk-offcanvas="overlay: true">
    <div class="uk-offcanvas-bar">
        <button class="uk-offcanvas-close" type="button" uk-close></button>

        <div class="uk-h4"># TODO: logo #</div>
        <nav>
            <ul class="uk-nav uk-nav-default" uk-nav>
                {%- for item in navItems %}
                    <li class="{% if item.route == request.path %}uk-active{% endif %}">
                        <a href="{{ item.route }}">
                            {%- if item.icon -%}
                                <span uk-icon="icon: {{ item.icon }}"></span>
                            {%- endif -%}
                            {{- item.label -}}
                        </a>
                    </li>
                {%- endfor %}
            </ul>
        </nav>
    </div>
</div>
