{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Configuration{% endblock %}</h1>
{% endblock %}

{% block content %}
<body id="config">

{% include "sse_event_inc.html" %}

<div class="main">
    Gro√üe Baustelle!<p>
    Will be a page with tabs for different aspects of configuration.<br>
    ... and a link to REST API documentation.<br>
    Some of it should be protected by authentication.<p>

{% for c in update['ctrl'].keys() %}
    <h2>{{c}}</h2>
    <div class="pure-g">
        <div class="pure-u-1-3">{{update['ctrl'][c]}}</div>
        <div class="pure-u-1-3">{{update['ctrl'][c].threshold}}</div>
    </div>

    <br><small>Input</small>
    <div class="pure-g">
{%   for n in update['in'].keys() %}
{%     if n in update['ctrl'][c].get_inputs(True) %}
        <div class="pure-u-1-3"><strong>{{n}}</strong></div>
        <div class="pure-u-1-3">{{update['in'][n]}}</div>
        <div class="pure-u-1-3">-&gt; {{','.join(update['in'][n].get_outputs())}}</div>
{%     endif %}
{%   endfor %}
    </div>

{%   if update['ctrl'][c].is_advanced() %}
    <small>Auxiliary</small>
    <div class="pure-g">
{%     for n in update['aux'].keys() %}
{%       if n in update['ctrl'][c].get_inputs(True) or n in update['ctrl'][c].get_outputs(True) %}
        <div class="pure-u-1-3">{{n}}</div>
        <div class="pure-u-1-3">{{update['aux'][n]}}</div>
        <div class="pure-u-1-3">-&gt; {{','.join(update['aux'][n].get_outputs())}}</div>
{%       endif %}
{%     endfor %}
    </div>
{%   endif %}

    <small>Ouput</small>
    <div class="pure-g">
{%   for n in update['out'].keys() %}
{%     if n in update['ctrl'][c].get_outputs(True) %}
        <div class="pure-u-1-3"><strong>{{n}}</strong></div>
        <div class="pure-u-1-3">{{update['out'][n]}}</div>
        <div class="pure-u-1-3"></div>
{%     endif %}
{%   endfor %}
    </div>
{% endfor %}

{% for k in update.keys() %}
    <h2>{{k}}</h2>
    <div class="pure-g"><small>
{%     for n in update[k].keys() %}
        <div class="pure-u-1-4">{{n}}:</div>
        <div class="pure-u-3-4">
        {{','.join(update[k][n].get_inputs())}} -&gt; <strong>{{update[k][n]}}</strong> -&gt; {{','.join(update[k][n].get_outputs())}}
        </div>
{%     endfor %}
    </small></div>
{% endfor %}
</div>

</body>
{% endblock %}
